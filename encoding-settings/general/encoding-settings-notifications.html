---
title: Description des paramètres de notifications : Cette rubrique contient des détails sur les paramètres d'encodage liés aux notifications.
parent: General Settings 
grandparent: Encoding Settings
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Overview">Vue d'ensemble</h2>

    <p>Une fois qu'un travail ou un fichier de sortie est terminé, vous pouvez en savoir plus de plusieurs manières.</p>

    <ul>
      <li>Nous pouvons envoyer un <a href="/general-information/getting-notifications-when-videos-are-finished.html">Requête HTTP POST</a> à votre application avec les détails.</li>
      <li>Nous pouvons envoyer un e-mail.</li>
      <li>Vous pouvez demander vos notifications à l'aide d'un outil tiers tel que <a href="https://ngrok.com">ngrok</a>. Ceci est utile lorsque vous développez localement et que Zencoder ne peut pas atteindre votre serveur de développement.</li>
      <li>Vous pouvez consulter le tableau de bord Zencoder pour connaître l'état de la tâche.</li>
      <li>Vous pouvez vérifier l'état du travail via une demande d'API Job show.</li>
    </ul>
    <p>Les deux premières notifications <a href="/general-information/getting-notifications-when-videos-are-finished.html">HTTP</a> ou par e-mail sortantes sont déclenchées par l'ajout d'options de notification à votre demande d'API Job Create.</p>

    <p><strong>Notes :</strong></p>

    <ul>
      <li>Les notifications sont limitées à 5 par sortie et travail. Les notifications de sortie ne comptent pas dans le total du travail. <a href="https://supportportal.brightcove.com/s/login/">Nous contacter</a> si vous avez besoin de plus.</li>
      <li>Les charges utiles de notification peuvent répéter les notifications pour les travaux. Vous devez analyser le corps de la charge utile par ID de tâche puis par état.</li>
      <li>Les gestionnaires de notifications sur les serveurs basés sur HTTP2 ne sont pas pris en charge actuellement. Les notifications envoyées aux serveurs HTTP2 peuvent ne pas être livrées sans renvoyer aucune erreur.</li>
    </ul>
    <aside class="bcls-aside bcls-aside--information">Pour plus d'informations sur les notifications, consultez <a href="/general-information/getting-notifications-when-videos-are-finished.html">Recevoir des notifications lorsque les vidéos sont terminées</a>.

      <p>Notez également que, bien que les notifications de sortie contiennent l'état actuel du travail, vous ne devez vous fier qu'à <strong>emploi</strong> notifications pour déterminer quand le travail est terminé.</p>
    </aside>
  </section>
  <section class="bcls-section">
    <h2 id="notifications">notifications</h2>
    <code translate="No">notifications:Array</code>

    <p><strong>Versions de l'API :</strong> V1, V2</p>

    <p><strong>Valeurs valides :</strong> Un tableau de chaînes de notification (adresses e-mail ou URL valides), ou des hachages de <a translate="No" href="#notification_url">URL</a> et <a translate="No" href="#notification_format">format</a>.</p>

    <p><strong>Types de tâches compatibles :</strong> Tous</p>

    <p><strong>Description :</strong></p>

    <p>Spécifiez une ou plusieurs URL HTTP ou adresses e-mail à notifier avec un webhook lorsqu'une tâche ou une sortie est terminée.</p>

    <p>Pour les notifications HTTP, la demande de l'API de notification est envoyée de Zencoder à votre serveur en tant que <code translate="No">POST</code> à l'URL de notification, et est soit JSON ou XML contenant deux ou trois valeurs. Le premier est un ID de tâche. Cet ID correspond à l'ID que vous avez reçu lorsque vous avez soumis la demande de travail initiale. Le second est un statut : soit « terminé », « échoué », soit « annulé ». Si un travail contient plusieurs sorties, cette notification contient également l'étiquette de sortie que vous avez fournie lors de la création initiale du travail.</p>

    <p>Les notifications HTTP enverront JSON ou XML (selon le <a translate="No" href="#notification_format">format</a>).</p>

    <p><strong>Contenu de la notification</strong> varient en fonction du <a href="/general-information/getting-notifications-when-videos-are-finished.html">Version API utilisée</a>.</p>

    <p>Si Zencoder ne parvient pas à se connecter avec succès au serveur cible lors de l'envoi d'une notification, la notification sera mise en file d'attente pour réessayer. Le calendrier des tentatives est couvert dans le <a href="/general-information/getting-notifications-when-videos-are-finished.html">guide des notifications</a>.</p>

    <p><strong>Autorisation et sécurité</strong></p>

    <p>Pour les notifications HTTP authentifiées, incluez un nom d'utilisateur et un mot de passe dans l'URL de notification à l'aide de la syntaxe suivante : https://username:password@www.example.com/path/to/notification/action</p>

    <p>Pour HTTPS, spécifiez simplement une URL en utilisant <code translate="No">https://</code> forcera la notification à être envoyée en toute sécurité en utilisant SSL.</p>

    <p><strong>Note :</strong> L'API V1 ne prend en charge que les notifications de sortie, pas les notifications de tâches.</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test.mov",
  "notifications": [
    "dev@example.com",
    "http://user:pass@example.com/path/to/notification/action",
    {
      "format": "xml",
      "url": "https://example.com/notifications.html"
    }
  ],
  "outputs": [
    {
      "notifications": [
        "dev@example.com",
        "http://user:pass@example.com/path/to/notification/action",
        {
          "format": "xml",
          "url": "https://example.com/notifications.html"
        }
      ]
    }
  ]
}</code></pre>

    <p><strong>Voir également:</strong> <a translate="No" href="#notification_url">URL</a> , <a translate="No" href="#notification_format">format</a> , et <a translate="No" href="#notification_headers">en-têtes</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="notification_url">url</h2>
    <code translate="No">url:String</code>

    <p><strong>Versions de l'API :</strong> V1, V2</p>

    <p><strong>Parent :</strong> <a translate="No" href="#notifications">notifications</a></p>

    <p><strong>Valeurs valides :</strong> Une URL HTTP ou HTTPS valide à notifier, comprenant éventuellement des informations d'identification d'authentification HTTP</p>

    <p><strong>Types de tâches compatibles :</strong> Tous</p>

    <p><strong>Exemples :</strong></p>

    <ul>
      <li translate="No">https://username:password@example.com/notification/path</li>
      <li translate="No">http://example.com/notification-handler.php</li>
    </ul>
    <p><strong>Description :</strong></p>

    <p>Une URL vers <a href="/general-information/getting-notifications-when-videos-are-finished.html">notifier</a> lorsqu'un travail est terminé.</p>

    <p>Utilisez le <a translate="No" href="#notification_url">URL</a> option lors de la spécification <a translate="No" href="#notifications">avis</a> sous forme de hachage, y compris un <a translate="No" href="#notification_format">format</a>. Si vous n'avez pas besoin de spécifier un format, vous pouvez simplement inclure l'URL en tant qu'élément dans le tableau des notifications.</p>

    <p>Pour les notifications HTTP authentifiées, incluez un nom d'utilisateur et un mot de passe dans l'URL de notification à l'aide de la syntaxe suivante : https://username:password@www.example.com/path/to/notification/action.</p>

    <p>Pour HTTPS, spécifiez simplement une URL en utilisant <code translate="No">https://</code> une notification serait donc envoyée en toute sécurité en utilisant SSL.</p>

    <p><strong>Contenu de la notification</strong> varient en fonction du <a href="/general-information/getting-notifications-when-videos-are-finished.html">Version API utilisée</a>.</p>

    <p>Si Zencoder ne parvient pas à se connecter avec succès au serveur cible lors de l'envoi d'une notification, la notification sera mise en file d'attente pour réessayer. La notification sera tentée jusqu'à 20 fois, le délai entre les tentatives doublant à chaque fois.</p>

    <p><strong>Autorisation et sécurité</strong></p>

    <p>Pour les notifications HTTP authentifiées, incluez un nom d'utilisateur et un mot de passe dans l'URL de notification à l'aide de la syntaxe suivante : https://username:password@www.example.com/path/to/notification/action</p>

    <p>Pour HTTPS, spécifiez simplement une URL en utilisant <code translate="No">https://</code> forcera la notification à être envoyée en toute sécurité en utilisant SSL.</p>

    <p><strong>Notes :</strong> L'API V1 ne prend en charge que les notifications de sortie, pas les notifications de tâches.</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test.mov",
  "notifications": [
    {
      "url": "https://example.com/notifications.html"
    }
  ],
  "outputs": [
    {
      "notifications": [
        {
          "url": "https://example.com/notifications.html"
        }
      ]
    }
  ]
}</code></pre>

    <p><strong>Voir également:</strong> <a translate="No" href="#notifications">avis</a> , <a translate="No" href="#notification_format">format</a> , et <a translate="No" href="#notification_headers">en-têtes</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="notification_format">format</h2>
    <code translate="No">format:String</code>

    <p><strong>Versions de l'API :</strong> V1, V2</p>

    <p><strong>Parent :</strong> <a translate="No" href="#notifications">notifications</a></p>

    <p><strong>Valeurs valides :</strong> <code translate="No">json</code> ou <code translate="No">xml</code></p>

    <p><strong>Types de tâches compatibles :</strong> Tous</p>

    <p><strong>Exemple :</strong> <code translate="No">json</code></p>

    <p><strong>Description :</strong></p>

    <p>Un format et un type de contenu pour <a translate="No" href="#notifications">avis</a>.</p>

    <p>Par défaut, les notifications HTTP sont en JSON, avec un type de contenu HTTP de <code translate="No">application/json</code>.</p>

    <p>Pour les notifications XML, définissez le format sur « XML ». Cela renverra des notifications au format XML, avec un type de contenu HTTP de <code translate="No">application/xml</code>.</p>

    <p><strong>Note :</strong> Les notifications API V1 n'incluent pas de type de contenu HTTP, sauf si vous spécifiez un format.</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test.mov",
  "notifications": [
    {
      "format": "xml",
      "url": "https://example.com/notifications.html"
    }
  ],
  "outputs": [
    {
      "notifications": [
        {
          "format": "xml",
          "url": "https://example.com/notifications.html"
        }
      ]
    }
  ]
}</code></pre>

    <p><strong>Voir également:</strong> <a translate="No" href="#notifications">avis</a> , <a translate="No" href="#notification_format">format</a> , et <a translate="No" href="#notification_headers">en-têtes</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="notification_headers">en-têtes</h2>
    <code translate="No">headers:Hash</code>

    <p><strong>Versions de l'API :</strong> V2</p>

    <p><strong>Parent :</strong> <a translate="No" href="#notifications">notifications</a></p>

    <p><strong>Valeurs valides :</strong> Les clés doivent commencer par une lettre et peuvent contenir des lettres, des chiffres et -. Les valeurs peuvent contenir n'importe quelle chaîne.</p>

    <p><strong>Il existe une limite de longueur de 100 caractères pour chaque en-tête de notification.</strong></p>

    <p><strong>Types de tâches compatibles :</strong> Tous</p>

    <p><strong>Exemple :</strong> <code translate="No">{'Accept': 'application/json', 'Internal-Id': '12345'}</code></p>

    <p><strong>Description :</strong></p>

    <p>Par défaut, les notifications HTTP sont envoyées avec un type de contenu HTTP, avec un agent utilisateur. Si votre application nécessite des en-têtes supplémentaires, ils peuvent être spécifiés ici.</p>

    <p>L'en-tête est défini comme la clé du hachage et sa valeur est la valeur du hachage.</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test.mov",
  "notifications": [
    {
      "format": "json",
      "url": "https://example.com/notifications.html",
      "headers": {
        "Accept": "application/json",
        "Internal-Id": "12345"
      }
    }
  ],
  "outputs": [
    {
      "notifications": [
        {
          "format": "json",
          "url": "https://example.com/notifications.html",
          "headers": {
            "Accept": "application/json",
            "Internal-Id": "12345"
          }
        }
      ]
    }
  ]
}</code></pre>

    <p><strong>Voir également:</strong> <a translate="No" href="#notifications">avis</a> , <a translate="No" href="#notification_url">URL</a> , et <a translate="No" href="#notification_format">format</a></p>
  </section>
  <section class="bcls-section">
    <h2 id="event">événement</h2>
    <code translate="No">event:String</code>

    <p><strong>Versions de l'API :</strong> V2</p>

    <p><strong>Parent :</strong> <a translate="No" href="#notifications">notifications</a></p>

    <p><strong>Valeurs valides :</strong> <code translate="No">first_segment_uploaded</code>, <code translate="No">seamless_playback</code></p>

    <p><strong>Types de tâches compatibles :</strong> Tous</p>

    <p><strong>Exemple :</strong> <code translate="No">{'event': 'seamless_playback'}</code></p>

    <p><strong>Description :</strong></p>

    <p>Les sorties en direct ont des événements de notification supplémentaires correspondant à la progression du fichier.</p>

    <p>Les notifications peuvent être envoyées lorsque le premier segment d'une sortie en direct a été téléchargé et lorsque suffisamment de segments ont été téléchargés pour permettre une lecture transparente.</p>

    <p>L'événement ne s'applique pas aux notifications de travail et de sortie normales, uniquement à celles des sorties en direct.</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "input": "s3://zencodertesting/test.mov",
  "outputs": [
    {
      "live_stream": true,
      "type": "segmented",
      "notifications": [
        {
          "url": "http://zencoderfetcher/notifications.html",
          "event": "seamless_playback"
        }
      ]
    }
  ]
}</code></pre>

    <p><strong>Voir également:</strong> <a translate="No" href="#notifications">avis</a> , <a translate="No" href="#notification_url">URL</a> , et <a translate="No" href="#notification_format">format</a></p>
  </section>
</article>
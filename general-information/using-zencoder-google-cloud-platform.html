---
title: Utiliser Zencoder avec Google Cloud Storage
parent: Getting Started
---


<article class="bcls-article">
  <h1>Utilisation de Zencoder avec Google Cloud Storage</h1>
<summary>Cette rubrique explique la configuration pour l'utilisation de Zencoder sur Google Cloud Platform.</summary>
  <section id="Google_Cloud_Storage_Setup" class="bcls-section">
  <h2>Configuration de Google Cloud Storage</h2>
  
  <h3>Générer des informations d'identification GCS interopérables</h3>
  
  <aside class="bcls-aside bcls-aside--warning">Avertissement : La prise en charge des régions Google Compute Engine a été interrompue le 30 mai 2017.</aside>
  
  <p>Google Cloud Storage est interopérable avec l'API Amazon S3, mais nécessite quelques travaux de configuration initiale. Pour démarrer avec GCS sur Zencoder, vous devez activer <strong>Accès interopérable</strong> depuis la console Google Cloud et générez une clé. Vérifiez <strong>Pour générer une clé de développeur</strong> section dans <a href="https://developers.google.com/storage/docs/migrating#keys">ce document</a> pour obtenir des instructions sur l'activation de l'accès interopérable et la génération des clés d'accès.</p>
  </section>
  
  <section id="Store_Credentials" class="bcls-section">
  <h2>Stocker les informations d'identification</h2>
  
  <p>Une fois que vous avez un ensemble d'identifiants GCS interopérables pour votre compte, vous pouvez les stocker en toute sécurité avec Zencoder, au <a href="https://app.zencoder.com/account/credentials">Informations d'identification Zencoder</a> page.</p>
  
  <p><img alt="GCS Credentials" class="guides_screenshot" src="/assets/images/general-information/gcs-credentials.png" /></p>
  
  <p>Sous <strong>Ajouter des informations d'identification</strong>, sélectionnez <strong>Google Cloud Storage</strong>. Ensuite, remplissez le <code translate="No">Google Cloud Storage Access Key ID</code> et <code translate="No">Secret Access Key</code> paramètres avec vos informations d'identification nouvellement générées. Assurez-vous de cliquer sur « Informations d'identification par défaut pour les transferts avec gcs ». Cela garantit que toutes les URL d'entrée ou de sortie spécifiant le <code translate="No">gcs://</code> protocole utiliseront ces informations d'identification.</p>
  </section>
  
  <section id="Transcoding" class="bcls-section">
  <h2>Conversion de code</h2>
  
  <!-- <p>Armed with a set of GCS credentials and some stored content to transcode, the next step is to start running jobs in GCE (Google Computing Engine). By setting the <a href="/node/17878#region">region</a> parameter, you can control which cloud region transcoding jobs will be run in on a job-by-job basis. The new region names for GCE are "us-central-gce" and "eu-west-gce".</p> -->
  
  <p>L'exemple ci-dessous montre un travail de travail qui extrait une vidéo d'entrée de GCS, crée des rendus pour la diffusion HTTP en direct et envoie les flux de sortie à GCS. Vous pouvez tester cela en modifiant <code translate="No">my-bucket</code> dans un bucket GCS existant que vous possédez et en le collant dans le <a href="https://app.zencoder.com/request_builder">Demander au constructeur</a>.</p>
  
  <h3>Exemple de tâche HLS utilisant GCS</h3>
  
  <pre class="line-numbers">
  <code class="language-json" translate="No">{
      "test": true,
      "input": "gcs://zencoder-testing/test.mov",
      "output": [
      {
          "audio_bitrate": 64,
          "audio_sample_rate": 22050,
          "base_url": "gcs://my-bucket/",
          "filename": "file-64k.m3u8",
          "segment_seconds": 2,
          "format": "aac",
          "headers":{
              "x-goog-acl": "public-read"
          },
          "type": "segmented"
      },
      {
          "audio_bitrate": 56,
          "audio_sample_rate": 22050,
          "base_url": "gcs://my-bucket/",
          "decoder_bitrate_cap": 360,
          "decoder_buffer_size": 840,
          "filename": "file-240k.m3u8",
          "segment_seconds": 2,
          "max_frame_rate": 15,
          "type": "segmented",
          "video_bitrate": 184,
          "headers":{
              "x-goog-acl": "public-read"
          },
          "width": 400,
          "format": "ts"
      },
      {
          "audio_bitrate": 56,
          "audio_sample_rate": 22050,
          "base_url": "gcs://my-bucket/",
          "decoder_bitrate_cap": 578,
          "decoder_buffer_size": 1344,
          "filename": "file-440k.m3u8",
          "segment_seconds": 2,
          "type": "segmented",
          "video_bitrate": 384,
          "headers":{
              "x-goog-acl": "public-read"
          },
          "width": 400,
          "format": "ts"
      },
      {
          "audio_bitrate": 56,
          "audio_sample_rate": 22050,
          "base_url": "gcs://my-bucket/",
          "decoder_bitrate_cap": 960,
          "decoder_buffer_size": 2240,
          "filename": "file-640k.m3u8",
          "segment_seconds": 2,
          "type": "segmented",
          "video_bitrate": 584,
          "headers":{
              "x-goog-acl": "public-read"
          },
          "width": 480,
          "format": "ts"
      },
      {
          "audio_bitrate": 56,
          "audio_sample_rate": 22050,
          "base_url": "gcs://my-bucket/",
          "decoder_bitrate_cap": 1500,
          "decoder_buffer_size": 4000,
          "filename": "file-1040k.m3u8",
          "segment_seconds": 2,
          "type": "segmented",
          "video_bitrate": 1000,
          "headers":{
              "x-goog-acl": "public-read"
          },
          "width": 640,
          "format": "ts"
      },
      {
          "audio_bitrate": 56,
          "audio_sample_rate": 22050,
          "base_url": "gcs://my-bucket/",
          "decoder_bitrate_cap": 2310,
          "decoder_buffer_size": 5390,
          "filename": "file-1540k.m3u8",
          "segment_seconds": 2,
          "type": "segmented",
          "video_bitrate": 1484,
          "headers":{
              "x-goog-acl": "public-read"
          },
          "width": 960,
          "format": "ts"
      },
      {
          "audio_bitrate": 56,
          "audio_sample_rate": 22050,
          "base_url": "gcs://my-bucket/",
          "decoder_bitrate_cap": 3060,
          "decoder_buffer_size": 7140,
          "filename": "file-2040k.m3u8",
          "segment_seconds": 2,
          "type": "segmented",
          "video_bitrate": 1984,
          "headers":{
              "x-goog-acl": "public-read"
          },
          "width": 1024,
          "format": "ts"
      },
      {
          "base_url": "gcs://my-bucket/",
          "filename": "playlist.m3u8",
          "streams": [
          {
              "bandwidth": 2040,
              "path": "file-2040k.m3u8"
          },
          {
              "bandwidth": 1540,
              "path": "file-1540k.m3u8"
          },
          {
              "bandwidth": 1040,
              "path": "file-1040k.m3u8"
          },
          {
              "bandwidth": 640,
              "path": "file-640k.m3u8"
          },
          {
              "bandwidth": 440,
              "path": "file-440k.m3u8"
          },
          {
              "bandwidth": 240,
              "path": "file-240k.m3u8"
          },
          {
              "bandwidth": 64,
              "path": "file-64k.m3u8"
          }
          ],
          "headers":{
              "x-goog-acl": "public-read"
          },
          "type": "playlist"
      }
      ]
  }</code></pre>
  </section>
  </article>
  